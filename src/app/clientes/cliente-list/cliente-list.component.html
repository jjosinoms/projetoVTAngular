<div class="documentation-wrapper">

  <app-menu />
  <div class="container my-4">


    <div class="action-bar mb-4 p-3 rounded-3 bg-light">
      <div class="d-flex flex-column flex-md-row justify-content-between align-items-center gap-3">
        <button mat-raised-button color="primary" class="add-button" (click)="openAddClienteDialog()">
          <mat-icon>add</mat-icon> Adicionar Novo Cliente
        </button>

        <mat-form-field appearance="fill" class="search-field">
          <mat-label>Buscar por nome ou CNPJ</mat-label>
          <input matInput [(ngModel)]="filtro" (input)="filtrarClientes()">
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
      </div>
    </div>

    <div class="client-list-section">
      <h2 class="section-title mb-4">
        <mat-icon class="me-2">groups</mat-icon>
        Clientes Cadastrados
        <span class="badge bg-primary ms-2">{{clientesFiltrados.length}}</span>
      </h2>

      <div *ngIf="clientesFiltrados.length === 0" class="empty-state text-center py-5">
        <mat-icon class="empty-icon">search_off</mat-icon>
        <h3 class="mt-3">Nenhum cliente encontrado</h3>
        <p class="text-muted">Tente ajustar sua busca ou adicione um novo cliente</p>
      </div>

      <div class="row g-4">
        <div class="col-12 col-md-6 col-lg-4" *ngFor="let cliente of clientesFiltrados">
          <mat-card class="client-card h-100">
            <mat-card-content>
              <div class="d-flex justify-content-between align-items-start">
                <div class="client-info">
                  <h3 class="client-name mb-1">{{ cliente.nome }}</h3>
                  <p class="client-cnpj text-muted mb-0">CNPJ: {{ cliente.cnpj }}</p>
                </div>
                <div class="client-actions">
                  <button mat-icon-button color="primary" matTooltip="Visualizar" (click)="verDetalhes(cliente.id)"
                    aria-label="Visualizar">
                    <mat-icon>visibility</mat-icon>
                  </button>
                  <button mat-icon-button color="accent" matTooltip="Editar" (click)="openEditClienteDialog(cliente)"
                    aria-label="Editar">
                    <mat-icon>edit</mat-icon>
                  </button>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
    </div>
  </div>